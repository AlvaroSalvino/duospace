{% load static %}
<!DOCTYPE html>
<html lang="pt-br" style="
{% if background == 'light' %}
--light-colour-lightness: 100%; --white-colour-lightness: 100%; --dark-colour-lightness: 15%;
{% elif background == 'dim' %}
--light-colour-lightness: 15%; --white-colour-lightness: 20%; --dark-colour-lightness: 95%;
{% else %}
--light-colour-lightness: 0%; --white-colour-lightness: 10%; --dark-colour-lightness: 95%;
{% endif %}

{% if fonte == 'fonte-1' %}
----sticky-top-left: 5.4rem; ----sticky-top-right: 5.4rem; font-size: 10px;
{% elif fonte == 'fonte-2' %}
----sticky-top-left: 5.4rem; ----sticky-top-right: -7rem; font-size: 13px;
{% elif fonte == 'fonte-3' %}
----sticky-top-left: -2rem; ----sticky-top-right: -17rem; font-size: 16px;
{% elif fonte == 'fonte-4' %}
----sticky-top-left: -5rem; ----sticky-top-right: -25rem; font-size: 19px;
{% else %}
----sticky-top-left: -12rem; ----sticky-top-right: -35rem; font-size: 22px;
{% endif %}

{% if cor == 'cor-1' %}
--primary-colour-hue: 252;
{% elif cor == 'cor-2' %}
--primary-colour-hue: 52;
{% elif cor == 'cor-3' %}
--primary-colour-hue: 352;
{% elif cor == 'cor-4' %}
--primary-colour-hue: 152;
{% else %}
--primary-colour-hue: 202;
{% endif %}
;">

<head>
    <meta charset="UTF-8">
    <title>DuoSpace - {% block title %}{% endblock %}</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="DuoSpace">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    {% block styles %}
    {% endblock %}
    <!-- Custom Stylesheet -->
    <link rel="stylesheet" href="{% static 'assets/css/style.css' %}">
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v2.1.6/css/unicons.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>

<body>

    <!--------Navigation Section---------->

    <nav>
        <div class="container">
            <div class="logo">
                <a href="{% url 'index' %}" id="link-logo">
                    <h2 class="log">
                        DuoSpace
                    </h2>
                </a>
            </div>
            <form method="POST" action="{% url 'buscar_usuario' %}" class="search-bar">
                {% csrf_token %}
                <i class="uil uil-search"></i>
                <input type="search" name="busca" placeholder="Pesquise por pessoas que usam o DuoSpace...">
            </form>
            <div class="create">
                <label class="btn btn-primary" for="create post" id="open-post-modal">Publicar</label>
                <form action="" method="post" enctype="multipart/form-data" id="upload-avatar">
                    {% csrf_token %}
                    <div for="imagem_perfil" class="profile-photo">
                        <label for="imagem_perfil">
                            <img src="{% if perfil_logado.imagem_perfil %}/images/{{ perfil_logado.imagem_perfil }}{% else %}{% static 'assets/images/img/user.png' %}{% endif %}"
                                alt="Foto de perfil" id="preview-imagem" style="cursor: pointer;">
                        </label>
                    </div>
                    <input type="file" id="imagem_perfil" name="imagem_perfil" style="display: none;"
                        onchange="document.getElementById('upload-avatar').submit();">
                </form>
            </div>
        </div>
    </nav>
    <!--------End of Navigation Section---------->
    <!-----------Main----------->

    <main>
        <div class="container">
            <!--Left Section-->
            <div class="left">
                <!--Profile Section-->
                <a class="profile">
                    <div class="profile-photo">
                        <img src="{% if perfil_logado.imagem_perfil %} /images/{{ perfil_logado.imagem_perfil }}
                        {% else %} {% static 'assets/images/img/user.png' %} {% endif %}" alt="" />
                    </div>
                    <div class="handle">
                        <h4>{{ perfil_logado.nome }}</h4>
                        <p class="text-muted">
                            @{{ user.username }}
                        </p>
                    </div>
                </a>
                <!--End Of Profile Section-->
                <!--Side Bar Section-->
                <div class="sidebar">
                    <a class="menu-item {{active_home}}" href="{% url 'index' %}">
                        <span><i class="uil uil-home"></i></span>
                        <h3>Home</h3>
                    </a>
                    <a class="menu-item">
                        <span><i class="uil uil-compass"></i></span>
                        <h3>Explore</h3>
                    </a>
                    <a class="menu-item" id="notifications">
                        <span><i class="uil uil-bell"><small class="notification-count">9+</small></i></span>
                        <h3>Notificações</h3>
                        <!--Notification Pop Up Section-->
                        <div class="notifications-popup">
                            <div>
                                <div class="profile-photo">
                                    <img src="{% static 'images/profile_img-44x44/profile6-44x44.jpg' %}" alt="" />
                                </div>
                                <div class="notificaion-body">
                                    <b>Matthew McConaughey</b> aceitou sua solicitação de amizade.
                                    <small class="text-muted">Agora</small>
                                </div>
                            </div>
                            <div>
                                <div class="profile-photo">
                                    <img src="{% static 'images/profile_img-44x44/profile8-44x44.jpg' %}" alt="" />
                                </div>
                                <div class="notificaion-body">
                                    <b>Denzel Washington</b> aceitou sua solicitação de amizade.
                                    <small class="text-muted">7 minutos atrás</small>
                                </div>
                            </div>
                            <div>
                                <div class="profile-photo">
                                    <img src="{% static 'images/profile_img-44x44/profile9-44x44.webp' %}" alt="" />
                                </div>
                                <div class="notificaion-body">
                                    <b>Martin Scorsese</b> comentou no seu post.
                                    <small class="text-muted">1 hora atrás</small>
                                </div>
                            </div>
                            <div>
                                <div class="profile-photo">
                                    <img src="{% static 'images/profile_img-44x44/profile10-44x44.jpg' %}" alt="" />
                                </div>
                                <div class="notificaion-body">
                                    <b>Andrew Garfield</b> e <b>372 outras</b> pessoas curtiram seu post.
                                    <small class="text-muted">1 Dia atrás</small>
                                </div>
                            </div>
                            <div>
                                <div class="profile-photo">
                                    <img src="{% static 'images/profile_img-88x88/profile5-88x88.jpg' %}" alt="" />
                                </div>
                                <div class="notificaion-body">
                                    <b>Netflix</b> comentou em um post em que você foi marcado.
                                    <small class="text-muted">2 dias atrás</small>
                                </div>
                            </div>
                            <div>
                                <div class="profile-photo">
                                    <img src="{% static 'images/profile_img-44x44/profile11-44x44.webp' %}" alt="" />
                                </div>
                                <div class="notificaion-body">
                                    <b>Henry Cavill</b> enviou uma solicitação de amizade para você
                                    <small class="text-muted">4 dias atrás</small>
                                </div>
                            </div>
                        </div>
                        <!--End of Notification Popup Section-->
                    </a>
                    <a class="menu-item" id="messages-notification">
                        <span><i class="uil uil-envelope"><small class="notification-count">6+</small></i></span>
                        <h3>Mensagens</h3>
                    </a>
                    <a class="menu-item">
                        <span><i class="uil uil-bookmark"></i></span>
                        <h3>Marcadores</h3>
                    </a>
                    <a class="menu-item">
                        <span><i class="uil uil-chart-line"></i></span>
                        <h3>Analytics</h3>
                    </a>
                    <a class="menu-item" id="theme">
                        <span><i class="uil uil-palette"></i></span>
                        <h3>Tema</h3>
                    </a>
                    <a class="menu-item">
                        <span><i class="uil uil-setting"></i></span>
                        <h3>Settings</h3>
                    </a>
                </div>
                <!--End Of Sidebar Section-->
                <a href="{% url 'deslogar' %}" class="btn btn-primary">Sair do DuoSpace</a>
            </div>
            <!--End Of Left Section-->
            <!--Middle Section-->
            <div class="middle">
                <!--Styling The Shorts Stories Section-->
                <div class="stories" style="display: none;">
                    <div class="story">
                        <div class="profile-photo">
                            <img src="{% if perfil_logado.imagem_perfil %} /images/{{ perfil_logado.imagem_perfil }}
                            {% else %} {% static 'images/img/user.png' %} {% endif %}" alt="">
                        </div>
                        <p class="name">Your Story</p>
                    </div>
                    <div class="story">
                        <div class="profile-photo">
                            <img src="{% static 'images/profile_img-44x44/profile2-44x44.jpg' %}" alt="">
                        </div>
                        <p class="name">Brad Pitt</p>
                    </div>
                    <div class="story">
                        <div class="profile-photo">
                            <img src="{% static 'images/profile_img-44x44/profile3-44x44.jpg' %}" alt="">
                        </div>
                        <p class="name">Anitta</p>
                    </div>
                    <div class="story">
                        <div class="profile-photo">
                            <img src="{% static 'images/profile_img-44x44/profile6-44x44.jpg' %}" alt="">
                        </div>
                        <p class="name">Matthew McConaug...</p>
                    </div>
                    <div class="story">
                        <div class="profile-photo">
                            <img src="{% static 'images/profile_img-44x44/profile4-44x44.webp' %}" alt="">
                        </div>
                        <p class="name">Margot Robbie</p>
                    </div>
                    <div class="story">
                        <div class="profile-photo">
                            <img src="{% static 'images/profile_img-44x44/profile7-44x44.jpg' %}" alt="">
                        </div>
                        <p class="name">Viola Davis</p>
                    </div>
                </div>
                <!--End Of The Shorts Stories Section-->
                {% block content %}
                {% endblock %}
            </div>
            <!--End of Middle Section-->
            <!--Right Section-->
            <div class="right">
                <!--Start of Messages-->
                <div class="messages" style="display: none;">
                    <div class="heading">
                        <h4>Messages</h4><i class="uil uil-edit"></i>
                    </div>
                    <!--Search Bar-->
                    <div class="search-bar">
                        <i class="uil uil-search"></i>
                        <input type="search" placeholder="Search message..." id="message-search">
                    </div>
                    <!--End of Search Bar-->
                    <!--Messages Category-->
                    <div class="category">
                        <h6 class="active">Primary</h6>
                        <h6>General</h6>
                        <h6 class="message-requests">Requests(7)</h6>
                    </div>
                    <!--End of Messages Category-->
                    <!--Message One-->
                    <div class="message">
                        <div class="profile-photo">
                            <img src="{% static 'images/profile_img-88x88/profile8-88x-88.webp' %}" alt="#">
                        </div>
                        <div class="message-body">
                            <h5>Kate Winslet</h5>
                            <p class="text-muted">They're reprising Titanic! 😍</p>
                        </div>
                    </div>
                    <!--Message Two-->
                    <div class="message">
                        <div class="profile-photo">
                            <img src="{% static 'images/profile_img-88x88/profile9-88x-88.jpg' %}" alt="#">
                            <div class="active"></div>
                        </div>
                        <div class="message-body">
                            <h5>Keanu Reeves</h5>
                            <p class="text-bold">Hey Leo! Tell me if u are there.</p>
                        </div>
                    </div>
                    <!--Message Three-->
                    <div class="message">
                        <div class="profile-photo">
                            <img src="{% static 'images/profile_img-88x88/profile10-88x-88.webp' %}" alt="#">
                        </div>
                        <div class="message-body">
                            <h5>Tobey Maguire</h5>
                            <p class="text-muted">Missing work with you friend!</p>
                        </div>
                    </div>
                    <!--Message Four-->
                    <div class="message">
                        <div class="profile-photo">
                            <img src="{% static 'images/profile_img-88x88/profile11-88x-88.webp' %}" alt="#">
                            <div class="active"></div>
                        </div>
                        <div class="message-body">
                            <h5>Quentin Tarantino</h5>
                            <p class="text-bold">Got a new idea. Talk me later.</p>
                        </div>
                    </div>
                </div>
                <!--End of Message-->
                <!--Friend Request-->
                <div class="friend-requests">
                    <h4>Solicitações</h4>
                    {% if perfil_logado.convites_recebidos.all %}
                    {% for convite in perfil_logado.convites_recebidos.all %}
                    <div class="request">
                        <div class="info">
                            <div class="profile-photo">
                                <img src="{{ convite.solicitante.imagem_perfilURL }}" alt="#">
                            </div>
                            <div>
                                <h5>{{ convite.solicitante.nome }}</h5>
                                <p class="text-muted">
                                    8 mutual friends
                                </p>
                            </div>
                        </div>
                        <div class="action">
                            <a href="/perfil/{{ convite.id }}/aceitar" class="btn btn-primary">
                                Aceitar
                            </a>
                            <a href="/perfil/{{ convite.id }}/rejeitar" class="btn btn-light">
                                Rejeitar
                            </a>
                        </div>
                    </div>
                    {% endfor %}
                    {% else %}
                    <p class="px-2 py-3 text-center">Nenhuma solicitação recebida</p>
                    {% endif %}
                </div>
            </div>
            <!--End of Right Section-->
        </div>
    </main>

    <div class="customize-theme">
        <div class="card">
            <h2>Customize your view</h2>
            <p class="text-muted">Manage your font size, color and background.</p>

            <!--Font Sizes Section-->
            <div class="font-size">
                <h4>Font Size</h4>
                <div>
                    <h6>Aa</h6>
                    <div class="choose-size">
                        <span class="font-size-1"></span>
                        <span class="font-size-2"></span>
                        <span class="font-size-3 active"></span>
                        <span class="font-size-4"></span>
                        <span class="font-size-5"></span>
                    </div>
                    <h3>Aa</h3>
                </div>
            </div>
            <!--End of Font Size Section-->
            <!--Primary Colours Section-->
            <div class="colour">
                <h4>Colour</h4>
                <div class="choose-colour">
                    <span class="colour-1 active"></span>
                    <span class="colour-2"></span>
                    <span class="colour-3"></span>
                    <span class="colour-4"></span>
                    <span class="colour-5"></span>
                </div>
            </div>
            <!--End of Primary Colours Section-->
            <!--Background Colours-->
            <div class="background">
                <h4>Background</h4>
                <div class="choose-bg">
                    <div class="bg-1 active">
                        <span></span>
                        <h5 for="bg-1">Light</h5>
                    </div>
                    <div class="bg-2">
                        <span></span>
                        <h5 for="bg-2">Dim</h5>
                    </div>
                    <div class="bg-3">
                        <span></span>
                        <h5 for="bg-3">Lights Out</h5>
                    </div>
                </div>
            </div>
            <!--End of Background Colours Section-->
        </div>
    </div>

    <!-- Modal de Criar Post -->
    <div class="create-post-modal">
        <div class="card">
            <h2>Crie sua Postagem</h2>
            <p class="text-muted">Preencha os campos abaixo para publicar um post.</p>

            <form action="{% url 'postagem' %}" method="POST" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="input-group">
                    <label for="titulo">Título</label>
                    <input type="text" id="titulo" name="titulo" required style="
                    {% if background == 'lights-out' %}
                    color: white;
                    {% elif background == 'dim' %}
                    color: white;
                    {% else %}
                    {% endif %}">
                </div>

                <div class="input-group">
                    <label for="texto">Texto</label>
                    <textarea id="texto" name="texto" rows="4" required style="
                    {% if background == 'lights-out' %}
                    color: white;
                    {% elif background == 'dim' %}
                    color: white;
                    {% else %}
                    {% endif %}"></textarea>
                </div>

                <div class="input-group">
                    <label for="imagem">Imagem (opcional)</label>
                    <input type="file" id="imagem" name="imagem">
                </div>

                <button type="submit" class="btn btn-primary">Publicar</button>
            </form>
        </div>
    </div>

    <script src="{% static 'assets/js/script.js' %}"></script>
    {% block scripts %}
    {% endblock %}
</body>

</html>